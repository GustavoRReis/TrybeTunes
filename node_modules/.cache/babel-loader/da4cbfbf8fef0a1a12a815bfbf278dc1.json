{"ast":null,"code":"import _regeneratorRuntime from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";/* eslint-disable react/jsx-max-depth */import React from'react';import{addSong,getFavoriteSongs}from'../../services/favoriteSongsAPI';import Loading from'../Loading';import getMusics from'../../services/musicsAPI';import'./MusicCard.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MusicCard=/*#__PURE__*/function(_React$Component){_inherits(MusicCard,_React$Component);var _super=_createSuper(MusicCard);function MusicCard(){var _this;_classCallCheck(this,MusicCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:false};_this.testChecked=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var trackId,data,favorites;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:trackId=_this.props.trackId;console.log(trackId);_context.next=4;return getFavoriteSongs();case 4:data=_context.sent;favorites=data.find(function(favId){return favId.trackId===trackId;});/* const teste = favorites.map((e) => e); */console.log(favorites);_this.setState({favorite:favorites});case 8:case\"end\":return _context.stop();}}},_callee);}));_this.setMusic=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var trackId,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:trackId=_this.props.trackId;_this.setState({loading:true});_context2.next=4;return getMusics(trackId);case 4:result=_context2.sent;_context2.next=7;return addSong(result);case 7:_this.setState({loading:false});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(MusicCard,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.testChecked();case 1:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$props=this.props,trackId=_this$props.trackId,trackName=_this$props.trackName,previewUrl=_this$props.previewUrl;var _this$state=this.state,loading=_this$state.loading,favorite=_this$state.favorite;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"ulTest\",children:[loading&&/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsx(\"li\",{className:\"listas\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ulTest2\",children:[/*#__PURE__*/_jsx(\"p\",{children:trackName}),/*#__PURE__*/_jsxs(\"audio\",{\"data-testid\":\"audio-component\",src:previewUrl,controls:true,children:[/*#__PURE__*/_jsx(\"track\",{kind:\"captions\"}),\"O seu navegador n\\xE3o suporta o elemento\",' ',/*#__PURE__*/_jsx(\"code\",{children:\"audio\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"labelCard\",htmlFor:\"favorite\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Favorita\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:this.setMusic,\"data-testid\":\"checkbox-music-\".concat(trackId),checked:favorite})]})]})},trackId)]})});}}]);return MusicCard;}(React.Component);export{MusicCard as default};","map":{"version":3,"names":["React","addSong","getFavoriteSongs","Loading","getMusics","MusicCard","state","loading","testChecked","trackId","props","console","log","data","favorites","find","favId","setState","favorite","setMusic","result","trackName","previewUrl","Component"],"sources":["/home/gustavo/Documentos/Projetos para o github/TrybeTunes/src/components/MusicCard/index.jsx"],"sourcesContent":["/* eslint-disable react/jsx-max-depth */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong, getFavoriteSongs } from '../../services/favoriteSongsAPI';\nimport Loading from '../Loading';\nimport getMusics from '../../services/musicsAPI';\nimport './MusicCard.css';\n\nexport default class MusicCard extends React.Component {\n  state = {\n    loading: false,\n  };\n\n  async componentDidMount() {\n    this.testChecked();\n  }\n\n  testChecked = async () => {\n    const { trackId } = this.props;\n    console.log(trackId);\n    const data = await getFavoriteSongs();\n    const favorites = data.find((favId) => (favId.trackId === trackId));\n    /* const teste = favorites.map((e) => e); */\n    console.log(favorites);\n    this.setState({ favorite: favorites });\n  };\n\n  setMusic = async () => {\n    const { trackId } = this.props;\n    this.setState({ loading: true });\n    const result = await getMusics(trackId);\n    /* console.log(result); */\n    await addSong(result);\n    this.setState({ loading: false });\n  };\n\n  render() {\n    const { trackId, trackName, previewUrl } = this.props;\n    const { loading, favorite } = this.state;\n    return (\n      <div>\n        <ul className=\"ulTest\">\n          {loading && <Loading />}\n          <li className=\"listas\" key={ trackId }>\n            <div className=\"ulTest2\">\n              <p>{trackName}</p>\n              <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n                <track kind=\"captions\" />\n                O seu navegador n√£o suporta o elemento\n                {' '}\n                <code>audio</code>\n              </audio>\n              <label className=\"labelCard\" htmlFor=\"favorite\">\n                <span>Favorita</span>\n                <input\n                  type=\"checkbox\"\n                  onChange={ this.setMusic }\n                  data-testid={ `checkbox-music-${trackId}` }\n                  checked={ favorite }\n                />\n              </label>\n            </div>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  trackId: PropTypes.string,\n  trackName: PropTypes.string,\n  previewUrl: PropTypes.string,\n}.isRequired;\n"],"mappings":"g2BAAA,wCACA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,OAAT,CAAkBC,gBAAlB,KAA0C,iCAA1C,CACA,MAAOC,QAAP,KAAoB,YAApB,CACA,MAAOC,UAAP,KAAsB,0BAAtB,CACA,MAAO,iBAAP,C,2FAEqBC,U,mVACnBC,K,CAAQ,CACNC,OAAO,CAAE,KADH,C,OAQRC,W,wEAAc,gKACJC,OADI,CACQ,MAAKC,KADb,CACJD,OADI,CAEZE,OAAO,CAACC,GAAR,CAAYH,OAAZ,EAFY,sBAGOP,iBAAgB,EAHvB,QAGNW,IAHM,eAINC,SAJM,CAIMD,IAAI,CAACE,IAAL,CAAU,SAACC,KAAD,QAAYA,MAAK,CAACP,OAAN,GAAkBA,OAA9B,EAAV,CAJN,CAKZ,4CACAE,OAAO,CAACC,GAAR,CAAYE,SAAZ,EACA,MAAKG,QAAL,CAAc,CAAEC,QAAQ,CAAEJ,SAAZ,CAAd,EAPY,sD,SAUdK,Q,wEAAW,6JACDV,OADC,CACW,MAAKC,KADhB,CACDD,OADC,CAET,MAAKQ,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EAFS,uBAGYH,UAAS,CAACK,OAAD,CAHrB,QAGHW,MAHG,uCAKHnB,QAAO,CAACmB,MAAD,CALJ,QAMT,MAAKH,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EANS,wD,oKAdX,0IACE,KAAKC,WAAL,GADF,6D,mIAuBA,iBAAS,CACP,gBAA2C,KAAKE,KAAhD,CAAQD,OAAR,aAAQA,OAAR,CAAiBY,SAAjB,aAAiBA,SAAjB,CAA4BC,UAA5B,aAA4BA,UAA5B,CACA,gBAA8B,KAAKhB,KAAnC,CAAQC,OAAR,aAAQA,OAAR,CAAiBW,QAAjB,aAAiBA,QAAjB,CACA,mBACE,kCACE,YAAI,SAAS,CAAC,QAAd,WACGX,OAAO,eAAI,KAAC,OAAD,IADd,cAEE,WAAI,SAAS,CAAC,QAAd,uBACE,aAAK,SAAS,CAAC,SAAf,wBACE,mBAAIc,SAAJ,EADF,cAEE,eAAO,cAAY,iBAAnB,CAAqC,GAAG,CAAGC,UAA3C,CAAwD,QAAQ,KAAhE,wBACE,cAAO,IAAI,CAAC,UAAZ,EADF,6CAGG,GAHH,cAIE,+BAJF,GAFF,cAQE,eAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,UAArC,wBACE,kCADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,QAAQ,CAAG,KAAKH,QAFlB,CAGE,uCAAgCV,OAAhC,CAHF,CAIE,OAAO,CAAGS,QAJZ,EAFF,GARF,GADF,EAA6BT,OAA7B,CAFF,GADF,EADF,CA2BD,C,uBA1DoCT,KAAK,CAACuB,S,SAAxBlB,S"},"metadata":{},"sourceType":"module"}