{"ast":null,"code":"import _regeneratorRuntime from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/gustavo/Documentos/Projetos para o github/TrybeTunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";/* eslint-disable react/jsx-max-depth */import React,{Component}from'react';import{Link}from'react-router-dom';import Header from'../../components/Header';import'./Search.css';import searchAlbumsAPI from'../../services/searchAlbumsAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={pesquisa:'',buttonD:true,objectBand:[],inputBand:''/* loading: false, */};_this.validateSearch=function(){var pesquisa=_this.state.pesquisa;var minimumOfCharacters=1;if(pesquisa.length>minimumOfCharacters){_this.setState({buttonD:false});}else{_this.setState({buttonD:true});}};_this.validateButton=function(_ref){var value=_ref.target.value;_this.setState({pesquisa:value},function(){return _this.validateSearch();});};_this.clickForm=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var pesquisa,objectSearch;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:pesquisa=_this.state.pesquisa;_context.next=3;return searchAlbumsAPI(pesquisa);case 3:objectSearch=_context.sent;console.log(objectSearch);_this.setState({objectBand:objectSearch,inputBand:pesquisa,pesquisa:''/* loading: true, */});case 6:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Search,[{key:\"render\",value:function render(){var _this$state=this.state,buttonD=_this$state.buttonD,pesquisa=_this$state.pesquisa,objectBand=_this$state.objectBand,inputBand=_this$state.inputBand;return/*#__PURE__*/_jsxs(\"section\",{className:\"search\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"bodySearch\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"menuForm\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"formulario\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"nameband\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"DIGITE SUA BANDA OU MUSICA\",className:\"inputPesquisar\",type:\"text\",\"data-testid\":\"search-artist-input\",id:\"nameband\",name:\"pesquisa\",onChange:this.validateButton,value:pesquisa}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonForm\",type:\"button\",\"data-testid\":\"search-artist-button\",disabled:buttonD,onClick:this.clickForm/* value={ bandOrArtist } */,children:\"Pesquisar\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"boxResultado\",children:/*#__PURE__*/_jsx(\"div\",{children:objectBand.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum \\xE1lbum foi encontrado\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"resultadosSearch\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Resultado de \\xE1lbuns de: \".concat(inputBand)}),/*#__PURE__*/_jsx(\"div\",{className:\"bands\",children:objectBand.map(function(_ref3){var collectionId=_ref3.collectionId,collectionName=_ref3.collectionName,artworkUrl100=_ref3.artworkUrl100;return/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/album/\".concat(collectionId),\"data-testid\":\"link-to-album-\".concat(collectionId),children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{className:\"listas\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cardsBands\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formatCards\",children:[/*#__PURE__*/_jsx(\"img\",{src:artworkUrl100,alt:artworkUrl100}),/*#__PURE__*/_jsx(\"div\",{children:collectionName})]})})})})})},collectionId);})})]})})})]})})]});}}]);return Search;}(Component);export{Search as default};","map":{"version":3,"names":["React","Component","Link","Header","searchAlbumsAPI","Search","state","pesquisa","buttonD","objectBand","inputBand","validateSearch","minimumOfCharacters","length","setState","validateButton","value","target","clickForm","objectSearch","console","log","map","collectionId","collectionName","artworkUrl100"],"sources":["/home/gustavo/Documentos/Projetos para o github/TrybeTunes/src/pages/Search/index.jsx"],"sourcesContent":["/* eslint-disable react/jsx-max-depth */\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../../components/Header';\nimport './Search.css';\nimport searchAlbumsAPI from '../../services/searchAlbumsAPI';\n\nexport default class Search extends Component {\n  state = {\n    pesquisa: '',\n    buttonD: true,\n    objectBand: [],\n    inputBand: '',\n    /* loading: false, */\n  }\n\n  validateSearch = () => {\n    const { pesquisa } = this.state;\n    const minimumOfCharacters = 1;\n    if (pesquisa.length > minimumOfCharacters) {\n      this.setState({ buttonD: false });\n    } else {\n      this.setState({ buttonD: true });\n    }\n  }\n\n  validateButton = ({ target: { value } }) => {\n    this.setState({ pesquisa: value }, () => this.validateSearch());\n  };\n\n  clickForm = async () => {\n    const { pesquisa } = this.state;\n    const objectSearch = await searchAlbumsAPI(pesquisa);\n    console.log(objectSearch);\n\n    this.setState({\n      objectBand: objectSearch,\n      inputBand: pesquisa,\n      pesquisa: '',\n      /* loading: true, */\n    });\n  }\n\n  render() {\n    const { buttonD, pesquisa, objectBand, inputBand,\n      /* loading */ /* bandOrArtist */ } = this.state;\n    return (\n      <section className=\"search\">\n        <Header />\n        <div className=\"bodySearch\">\n          <div className=\"menuForm\">\n            <form className=\"formulario\">\n              <label htmlFor=\"nameband\">\n                <input\n                  placeholder=\"DIGITE SUA BANDA OU MUSICA\"\n                  className=\"inputPesquisar\"\n                  type=\"text\"\n                  data-testid=\"search-artist-input\"\n                  id=\"nameband\"\n                  name=\"pesquisa\"\n                  onChange={ this.validateButton }\n                  value={ pesquisa }\n                />\n                <button\n                  className=\"buttonForm\"\n                  type=\"button\"\n                  data-testid=\"search-artist-button\"\n                  disabled={ buttonD }\n                  onClick={ this.clickForm }\n                  /* value={ bandOrArtist } */\n                >\n                  Pesquisar\n                </button>\n              </label>\n            </form>\n            <div className=\"boxResultado\">\n              <div>\n                {objectBand.length === 0 ? (\n                  <p>Nenhum álbum foi encontrado</p>\n                ) : (\n                  <div className=\"resultadosSearch\">\n                    <h2>{`Resultado de álbuns de: ${inputBand}`}</h2>\n                    <div className=\"bands\">\n                      {objectBand.map(\n                        ({ collectionId, collectionName, artworkUrl100 }) => (\n                          <nav key={ collectionId }>\n                            <Link\n                              className=\"link\"\n                              to={ `/album/${collectionId}` }\n                              data-testid={ `link-to-album-${collectionId}` }\n                            >\n                              <ul>\n                                <li className=\"listas\">\n                                  <div className=\"cardsBands\">\n                                    <div className=\"formatCards\">\n                                      <img\n                                        src={ artworkUrl100 }\n                                        alt={ artworkUrl100 }\n                                      />\n                                      <div>\n                                        {collectionName}\n                                      </div>\n                                    </div>\n                                  </div>\n                                </li>\n                              </ul>\n                            </Link>\n                          </nav>\n                        ),\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}